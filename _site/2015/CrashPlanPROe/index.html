<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Aulin - Crashplan PROe</title>
  <link rel="shortcut icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="alternate" type="application/rss+xml" title="My Blog" href="/rss.xml">
  <link rel="stylesheet" href="/assets/css/highlight.css">
</head>
<body>

  <nav class="main-nav">
    
        <a href='/'> <span class="arrow">‚Üê</span> Home </a>
    

    
        
            <a href='/about'>About </a>
        
    
    <a class="cta" href="/feed.xml">Subscribe</a>
</nav>

  

  <section id="wrapper" class="">
    <article class="post">
    <header>
        <h1>Crashplan PROe</h1>
        <h2 class="headline">September 15, 2015</h2>
    </header>
    <section id="post-body">
        <h3>Introduction</h3>

<p>In this tutorial I will cover how to setup a <a href="http://www.code42.com/products/crashplan">CrashPlan</a> PROE server hosted in docker container running on a <a href="https://www.synology.com/en-global">Synology</a>.</p>

<hr>

<h3>Prerequisites</h3>

<ul>
<li><a href="https://www.synology.com/en-us/products">Synology hardware</a>.</li>
</ul>

<hr>

<h3>Get started</h3>

<p>First you need create the folder structure that will be used to expose the code42 data and make it accessible directly from synology shares.
In this example I want to expose all folder that contain CrashPlan data, logs and use a specific backup destination.</p>

<p><img src="/assets/images/code42/code42_folders.png" alt="Folder Stucture"></p>

<p>Next you need to install the Docker Applications using Package Center.</p>

<p><img src="/assets/images/code42/code42_docker_install.png" alt="Folder Stucture"></p>

<h4>Download image and create container.</h4>

<p>Start the Docker from menu and go to Registry search for <em>crashplanproe</em> select it and click on Download.</p>

<p><img src="/assets/images/code42/code42_docker_registry.png" alt="Folder Stucture"></p>

<p>Next go to Image and Launch dropdown menu select <em>Launch with wizard</em></p>

<p><img src="/assets/images/code42/code42_docker_image.png" alt="Folder Stucture"></p>

<p>Choose a name for your Container and add <a href="http://support.code42.com/Administrator/3/Planning_And_Installing/TCP_And_UDP_Ports">ports</a> needed.</p>

<p><img src="/assets/images/code42/code42_docker_wizard.png" alt="Folder Stucture"></p>

<p>Select CPU Priority level and optional shortcut on desktop.</p>

<p><img src="/assets/images/code42/code42_docker_wizard2.png" alt="Folder Stucture"></p>

<p>Before you hit Apply we need to set some Advanced Settings.</p>

<p><img src="/assets/images/code42/code42_docker_wizard3.png" alt="Folder Stucture"></p>

<p>Now we get the option to specify what location should be exposed to the container.
In this case you can use the folders we created. Once done hit OK and then Apply.</p>

<p><img src="/assets/images/code42/code42_docker_volume.png" alt="Folder Stucture"></p>

<h3>Using Code42 CrashPlanPROe Server</h3>

<h4>Starting the Container</h4>

<p>Now you can click Container and you should see the code42 container.
If its not activated click the power on icon. This part will take a wile as it will download the binary&#39;s and setup a default environment.</p>

<p><img src="/assets/images/code42/code42_docker_container.png" alt="Folder Stucture"></p>

<p>Once the service is up and running you can see that the folder&#39;s you created have been filled with data.</p>

<p><img src="/assets/images/code42/code42_logs.png" alt="Folder Stucture"></p>

<h4>Configure Crash Plan PROe services.</h4>

<p>It&#39;s time to configure the service. Head to the same IP as the synology but with https and port 4285.
In my case <code>https://10.2.0.200:4285</code>. Use the MasterKey or sign up for a trial.</p>

<p>Now go to <em>Settings &gt; Server</em> and change <em>Website protocol, host and port</em> to your synology IP.
You also need to configure <em>Primary network address</em> that should be the same IP but with port 4282.</p>

<p><img src="/assets/images/code42/code42_network.png" alt="Folder Stucture"></p>

<p>Now got to <em>Destinations &gt; Server</em> and click the default server &gt; cog &gt; <em>Add Store Point</em>.
Fill in a name and location /opt/backup_destination
<img src="/assets/images/code42/code42_server_storepoints.png" alt="Folder Stucture"></p>

<p>Next go to <em>Destianations &gt; Server</em> and click the default storage &gt; cog &gt; <em>Pause Incomming Data</em> and <em>Reject New Archives</em></p>

<p><img src="/assets/images/code42/code42_default_store.png" alt="Folder Stucture"></p>

<p>Next go to <em>Destianations &gt; Server</em> and click the default storage &gt; cog &gt; <em>Accept Incomming Data</em> and <em>Accept New Archives</em></p>

<p><img src="/assets/images/code42/code42_new_store.png" alt="Folder Stucture"></p>

<h3>Thats it!</h3>

<p>Now the server is up and running and you can continue to configure the Code42 CrashPlanPROe server as it fits your needs.</p>

<p>Cheers!</p>

    </section>
</article>
<footer id="post-meta" class="clearfix">
    <a href="http://twitter.com/erikrpm">
        <img class="avatar" src="/assets/images/avatar.png">
        <div>
            <span class="dark">Erik Aulin</span>
            <span>Blog about tech stuff</span>
        </div>
    </a>

    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=http://erikaulin.github.io/2015/CrashPlanPROe/ - Crashplan PROe by @erikrpm"><span class="icon-twitter"> Tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>
    </section>
</footer>

<!-- Disqus comments -->


<!-- Archive post list -->

    <ul id="post-list" class="archive readmore">
        <h3>Read more</h3>
        
            <li>
                <a href="/2015/CrashPlanPROe/">Crashplan PROe<aside class="dates">Sep 15</aside></a>
            </li>
        
            <li>
                <a href="/2015/Munki-SSL-Docker/">Munki with SSL using Docker<aside class="dates">Aug 28</aside></a>
            </li>
        
            <li>
                <a href="/2015/VMware-Fusion/">VMware-Fusion Docker-machine<aside class="dates">Aug 23</aside></a>
            </li>
        
            <li>
                <a href="/2015/2015-08-28-Munki-S3-Nginx-Proxy/">Munki with SSL<aside class="dates">Aug 23</aside></a>
            </li>
        
            <li>
                <a href="/2015/2015-09-23-Dockers-tips-and-trix/">Dockers<aside class="dates">Aug 23</aside></a>
            </li>
        
            <li>
                <a href="/2015/random-stuff/">random<aside class="dates">Aug 11</aside></a>
            </li>
        
            <li>
                <a href="/2015/Travis-CI_and_HockeyApp/">Travis-ci and HockeyApp<aside class="dates">Aug 07</aside></a>
            </li>
        
            <li>
                <a href="/2015/s3restapi/">restapis3<aside class="dates">Aug 07</aside></a>
            </li>
        
            <li>
                <a href="/2015/Synology-DNS/">Synology DNS<aside class="dates">Aug 07</aside></a>
            </li>
        
            <li>
                <a href="/2015/AWS-tips-and-trix/">AWS day to day<aside class="dates">Aug 06</aside></a>
            </li>
        
            <li>
                <a href="/2015/ESXi-Upgrade5-5to6-0/">Upgrade ESXi from 5.5 to 6<aside class="dates">Aug 06</aside></a>
            </li>
        
    </ul>





  </section>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="/assets/js/main.js"></script>
  <script src="/assets/js/highlight.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-66017649-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
