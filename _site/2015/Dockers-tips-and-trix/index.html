<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Aulin - Dockers</title>
  <link rel="shortcut icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="alternate" type="application/rss+xml" title="My Blog" href="/rss.xml">
  <link rel="stylesheet" href="/assets/css/highlight.css">
</head>
<body>

  <nav class="main-nav">
    
        <a href='/'> <span class="arrow">‚Üê</span> Home </a>
    

    
        
            <a href='/about'>About </a>
        
    
    <a class="cta" href="/feed.xml">Subscribe</a>
</nav>

  

  <section id="wrapper" class="">
    <article class="post">
    <header>
        <h1>Dockers</h1>
        <h2 class="headline">August 23, 2015</h2>
    </header>
    <section id="post-body">
        <h3>Stuff I learnd and use with dockers.</h3>

<p>I&#39;m using a Apple Mac with VMware Fusion and the latest <a href="https://www.docker.com/toolbox">Docker Toolbox</a>.
Docker default configuration is to use Virtualbox so I added some tips how to use VMware Fusion instead, also added some more cpu and memory if I need some more beef for full system images.</p>

<h4>Create a docker environment using vmware fusion.</h4>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">docker-machine create -d vmwarefusion <span class="se">\</span>
  --vmwarefusion-cpu-count <span class="m">2</span> <span class="se">\</span>
  --vmwarefusion-memory-size <span class="m">4096</span> <span class="se">\</span>
docker
<span class="nb">eval</span> <span class="s2">&quot;$(docker-machine env docker)&quot;</span></code></pre></div>

<h4>Set static dhcp rules for dockers environment</h4>

<p>I want my VM&#39;s to have the same IP so the docker-machine environment is always the same.
If you want to use the NAT network you can edit the dhcpd file with your favorit edit and add your host after the line ####### VMNET DHCP Configuration. End of &quot;DO NOT MODIFY SECTION&quot; ######.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo vim /Library/Preferences/VMware<span class="se">\ </span>Fusion/vmnet8/dhcpd.conf</code></pre></div>

<p>Added three host in my case, dockers vm, osx client vm and a osx server vm.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">host docker <span class="o">{</span>
    hardware ethernet EE:EE:EE:EE:EE:EE<span class="p">;</span>
    fixed-address 192.168.125.140<span class="p">;</span>
<span class="o">}</span>
host client <span class="o">{</span>
    hardware ethernet EE:EE:EE:EE:EE:EE<span class="p">;</span>
    fixed-address 192.168.125.141<span class="p">;</span>
<span class="o">}</span>
host server <span class="o">{</span>
    hardware ethernet EE:EE:EE:EE:EE:EE<span class="p">;</span>
    fixed-address 192.168.125.142<span class="p">;</span>
<span class="o">}</span></code></pre></div>

<p>I added some records to my hostfile for easy access.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo vim /etc/hosts</code></pre></div>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">192.168.125.140 docker.example.com
192.168.125.141 client.example.com
192.168.125.142 server.example.com</code></pre></div>

<h5>Restarting the vmware fusion network environment</h5>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo /Applications/VMware<span class="se">\ </span>Fusion.app/Contents/Library/vmnet-cli --stop
sudo /Applications/VMware<span class="se">\ </span>Fusion.app/Contents/Library/vmnet-cli --configure
sudo /Applications/VMware<span class="se">\ </span>Fusion.app/Contents/Library/vmnet-cli --start</code></pre></div>

    </section>
</article>
<footer id="post-meta" class="clearfix">
    <a href="http://twitter.com/erikrpm">
        <img class="avatar" src="/assets/images/avatar.png">
        <div>
            <span class="dark">Erik Aulin</span>
            <span>Blog about tech stuff</span>
        </div>
    </a>

    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=http://erikaulin.github.io/2015/Dockers-tips-and-trix/ - Dockers by @erikrpm"><span class="icon-twitter"> Tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>
    </section>
</footer>

<!-- Disqus comments -->


<!-- Archive post list -->

    <ul id="post-list" class="archive readmore">
        <h3>Read more</h3>
        
            <li>
                <a href="/2015/Dockers-tips-and-trix/">Dockers<aside class="dates">Aug 23</aside></a>
            </li>
        
            <li>
                <a href="/2015/random-stuff/">random<aside class="dates">Aug 11</aside></a>
            </li>
        
            <li>
                <a href="/2015/Travis-CI_and_HockeyApp/">Travis-ci and HockeyApp<aside class="dates">Aug 07</aside></a>
            </li>
        
            <li>
                <a href="/2015/Synology-DNS/">Synology DNS<aside class="dates">Aug 07</aside></a>
            </li>
        
            <li>
                <a href="/2015/AWS-tips-and-trix/">AWS day to day<aside class="dates">Aug 06</aside></a>
            </li>
        
            <li>
                <a href="/2015/ESXi-Upgrade5-5to6-0/">Upgrade ESXi from 5.5 to 6<aside class="dates">Aug 06</aside></a>
            </li>
        
    </ul>





  </section>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="/assets/js/main.js"></script>
  <script src="/assets/js/highlight.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-66017649-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>



